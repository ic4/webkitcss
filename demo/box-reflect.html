<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>webkit-box-reflect demo</title>
	<link rel="stylesheet" type="text/css" href="../css/demo.css" />
</head>
<body>

	<h1>-webkit-box-reflect</h1>
	<dl id="control_panel" class="control_panel">
		<h2>倒影方向</h2>
		<p class="dir">
			<label><input type="radio" name="dir" value="above" />above</label>
			<label><input type="radio" name="dir" value="below" />below</label>
			<label><input type="radio" name="dir" value="left" />left</label>
			<label><input type="radio" name="dir" value="right" />right</label>
		</p>
		<h2>遮罩 apple.png</h2>
		<p class="mask">
			<label><input type="radio" name="mask" value="yes" />yes</label>
			<label><input type="radio" name="mask" value="no" checked="checked" />no</label>
		</p>
		<h2>渐变遮罩</h2>
		<p class="gradient">
			<label><input type="radio" name="gradient" value="yes" />yes</label>
			<label><input type="radio" name="gradient" value="no" checked="checked" />no</label>
		</p>
	</dl>

	<style type="text/css">
		ul,li {list-style:none;}
		li {padding:10px 0;}
		.test { width: 325px; margin: 230px auto 300px; }
		.test img {width: 325px; height: 250px; }
	</style>
	<div class="demo">
		<!-- demo start -->
		<div class="test">
			<img src="../img/apple.jpg" alt="" />
		</div>
		<!-- demo end -->
	</div>
	
	<script type="text/javascript">
			var test = document.querySelector(".test");
			var dir = document.getElementsByName("dir");
			var mask = document.getElementsByName("mask");
			var gradient = document.getElementsByName("gradient");

			var comm = {
				dir:"",
				mask:""
			}

			for(var i=0;i<dir.length;i++) {
				dir[i].onclick = (function(index) {
					return function(){
						if(dir[index].checked){
							comm.dir = dir[index].value;
						}
						changeStyle();
					}
				})(i);
			}

			for(var j=0;j<mask.length;j++) {
				mask[j].onclick = (function(index) {
					return function(){
						if(mask[index].checked){
							comm.mask = (mask[index].value == "yes") ? " url(../img/apple.png)" : "";
						}
						changeStyle();
					}
				})(j);
			}

			for(var n=0;n<gradient.length;n++) {
				gradient[n].onclick = (function(index) {
					return function(){
						if(gradient[index].checked){
							comm.mask = (gradient[index].value == "yes") ? " -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(.5, transparent), to(white))" : "";
						}
						changeStyle();
					}
				})(n);
			}

			function changeStyle() {
				test.style.cssText = "-webkit-box-reflect:"+comm.dir+" 0px"+comm.mask+";";
				str = "-webkit-box-reflect:"+comm.dir+" 0px"+comm.mask+";";
				console.log(str);
			}

		
	</script>

</body>
</html>